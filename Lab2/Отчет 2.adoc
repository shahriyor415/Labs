:imagesdir: Images
:toc:
:toc-title: Оглавление

[.text-center]
МИНИСТЕРСТВО НАУКИ И ВЫСШЕГО ОБРАЗОВАНИЯ РОССИЙСКОЙ ФЕДЕРАЦИИ +
Федеральное государственное автономное образовательное учреждение
высшего образования +
«Южно-Уральский государственный университет» +
(национальный исследовательский университет) +
Высшая школа электроники и компьютерных наук +
Кафедра «Информационно-измерительная техника»

[.text-center]

Отчет по лабораторной работе №1

:toc:
:toc-title: Оглавление

[.text-right]
Выполнил: +
студент группы КЭ-415 +
Хайдарзода Ш.Н.


== Задание к работе

    а. Написать программу вычисляющую следующее выражение -3/3U *3, и объяснить результат.
   б. Подключить плату к своему домашнему компьютеру, проверить что все работает и плата прошивается.
   в. Запустить на плате Lab1 из https://github.com/lamer0k/stm32Labs/tree/master/Lab1

== Написание программы для вычисления результата выражения
Напишем программу, которая вычисляет значение выражения -3/3U*3. Результат представлен на рисунке 1.

image::image-2021-09-30-22-21-25-643.png[]

Рисунок 1 - Код программы

Далее выведем результат в окно Terminal I/O. Результат представлен на рисунке 2.

image::image-2021-09-30-22-24-43-110.png[]

Рисунок 2 - Результат в окне Terminal I/O

Получаем результат, равный -4. В примере мы используем 3U, а это беззнаковая единица. Так как у нас присутствует беззнаковая единица, то можно использовать unsigned int (32-битная). При выполнении операции получается число с остатком, которое домнажается на 3 без учёта остатка. Получившееся число 4294967292 будет равняться -4, а не -3.(0xFFFFFFFC).

== Подключение платы к компьютеру
Подключим отладчик к плате, и подключим плату к компьютеру. Результат представлен на рисунке 3.

image::image-2021-09-30-23-18-52-173.png[]

Рисунок 3 - Подключенная плата

Светодиод на отладчике горит красным, что говорит нам о том, что плата не прошита.

== Прошивка платы
Для прошивки платы, создадим новый проект, где выберем нужный микроконтроллер. Далее наблюдаем ошибку: Assembler list file generation not allowed in this version of the compiler. Лист ассемблера не создается в данной версии компилятора. Чтобы исправить анную ошибку, в окне C/C++ Compiler уберем галочку с пункта Output assembler file.
Результат представлен на рисунке 4.

image::image-2021-09-30-23-21-20-846.png[]

Рисунок 4 - Исправление ошибки компилятора

После данных действий, успешно прошиваем плату. Можем убедиться в этом, увидев горящий светодиод на отладчике.
Результат представлен на рисунке 5.

image::image-2021-09-30-23-21-43-085.png[]

Рисунок 5 - Прошитая плата

Далее клонируем репозиторий преподавателя, размещенный по ссылке: https://github.com/lamer0k/stm32Labs/tree/master/Lab1. Процесс представлен на рисунке 6.

image::image-2021-09-30-23-22-41-114.png[]

Рисунок 6 - Репозиторий преподавателя

Напишем код, который включает светодиоды. Код представлен ниже.

[source, c]

#include "gpiocregisters.hpp" //for GPIOC
#include "rccregisters.hpp" //for RCC
int main()
{
RCC::AHB1ENR::GPIOCEN::Enable::Set() ;
GPIOC::MODER::MODER5::Output::Set() ;
GPIOC::ODR::ODR5::Enable::Set() ;
GPIOC::ODR::ODR5::Disable::Set() ;
return 0 ;
}

Плата успешно прошивается, так как загорается светодиод. Результат представлен на рисунке 7.

image::image-2021-09-30-23-16-38-539.png[]

Рисунок 7 - Успешно прошитая плата